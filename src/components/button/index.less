@import '../style/index.less';

@button-prefix-cls: ~'@{prefix}-button';

@border-radius: 2px;

@primary-hover-bg: @blue-5;
@primary-active-bg: @blue-6;
@primary-disabled-bg: @gray-6;

@dashed-color: rgba(0, 0, 0, 0.65);

@large-font-size: 14px;
@default-font-size: 14px;
@small-font-size: 14px;

@large-padding: 10px 15px;
@default-padding: 8px 11px;
@default-link-padding: 5px 8px;
@small-padding: 6px 11px;

@large-icon-margin: 6px;
@default-icon-margin: 6px;
@small-icon-margin: 0px;

@translate: 1px;

/* group */
.@{button-prefix-cls}-group {
	padding-left: @translate;
	display: inline-block;
}

.@{button-prefix-cls} {
	display: inline-flex;
	justify-content: center;
	align-items: center;
	border-radius: @border-radius;
	box-sizing: border-box;
	outline: none;
	line-height: 1;
	cursor: pointer;
	transition: 0.3s;

	/* group */
	&-group & {
		position: relative;
		border-radius: 0;
		z-index: 1;
		margin-left: -@translate;

		&:first-child {
			border-top-left-radius: @border-radius;
			border-bottom-left-radius: @border-radius;
		}

		&:last-child {
			border-top-right-radius: @border-radius;
			border-bottom-right-radius: @border-radius;
		}

		&[disabled]:not(:first-child)::after,
		&.primary:not(:first-child)::after {
			content: '';
			position: absolute;
			top: -1px;
			left: -1px;
			width: 1px;
			background: currentColor;
			opacity: 0.1;
			height: 104%;
		}

		&:hover {
			z-index: 2;
		}
	}

	/* type */
	&.normal {
		border: 1px solid @blue-2;
		color: @blue-4;
		background: @gray-1;

		&:hover {
			background: @blue-1;
		}
		&:active {
			color: @blue-5;
			border: 1px solid @blue-3;
			background: @blue-2;
		}
	}
	&.primary {
		border: 1px solid @blue-4;
		background: @blue-4;
		color: @gray-1;

		&:hover {
			border-color: @primary-hover-bg;
			background: @primary-hover-bg;
		}
		&:active {
			border-color: @primary-active-bg;
			background: @primary-active-bg;
		}
	}
	&.dashed {
		border: 1px dashed @color-gray5;
		color: @dashed-color;

		&:hover {
			border-color: @color-blue1;
			color: @color-blue1;
		}
		&:active {
			border-color: @color-blue4;
			color: @color-blue4;
		}
	}
	&.link {
		border: none;
		color: @blue-4;
		background: transparent;
		&:active {
			color: @blue-5;
		}
	}

	/* size */
	&.large {
		padding: @large-padding;
		font-size: @large-font-size;
		/* icon */
		.cloud-icon {
			margin-right: @large-icon-margin;
		}
	}
	&.default {
		padding: @default-padding;
		font-size: @default-font-size;
		&.link {
			padding: @default-link-padding;
		}

		/* icon */
		.cloud-icon {
			margin-right: @default-icon-margin;
		}
	}
	&.small {
		padding: @small-padding;
		font-size: @small-font-size;

		/* icon */
		.cloud-icon {
			margin-right: @small-icon-margin;
		}
	}

	/* block */
	&.block {
		width: 100%;
	}

	/* disabled */
	&[disabled] {
		&.primary {
			&,
			&:hover,
			&:active {
				border: 1px solid @primary-disabled-bg;
				background: @primary-disabled-bg;
				background-clip: padding-box;
				cursor: not-allowed;
			}
		}

		&.normal {
			&,
			&:hover,
			&:active {
				color: @gray-6;
				border: 1px solid @gray-4;
				background-color: @gray-3;
				cursor: not-allowed;
			}
		}

		&.dashed {
			&,
			&:hover,
			&:active {
				color: @color-white;
				background: @color-gray6;
				border: 1px solid @color-gray6;
				cursor: not-allowed;
			}
		}

		&.link {
			&,
			&:hover,
			&:active {
				color: @gray-6;
				cursor: not-allowed;
			}
		}
	}

	&-loading {
		display: inline-block;
		width: 10px;
		height: 10px;
		border-radius: 50%;
		animation: load 1.5s infinite linear;
		margin-right: 10px;
		border: 1px solid @color-gray6;
		border-top: 1px solid @color-white;
		@keyframes load {
			from {
				transform: rotate(0deg);
			}
			to {
				transform: rotate(360deg);
			}
		}
	}
}
