@import '../style/index';

@checkbox-prefix-cls: ~'@{prefix}-checkbox';

@normal-color: #00AAF1;
@checked-color: #0083BA;
@normal-border-color: @color-gray5;
@checkbox-bg-color: #fff;
@disabled-bg-color: #eee;
@normal-text-color: #666;
@checkbox-size: 14px;

.@{checkbox-prefix-cls}-checked-inner-after {
	position: absolute;
	top: 4%;
	left: 30%;
	width: 28%;
	height: 64%;
	content: '';
	display: block;
	transform: rotate(45deg);
	border-left: 0;
	border-top: 0;
	border-right: 2px solid;
	border-bottom: 2px solid;
	animation: transformAnimate .3s;
}

.@{checkbox-prefix-cls}-indeterminate-inner-after {
	position: absolute;
	left: 50%; top: 50%;
	width: 60%;
	height: 60%;
	content: '';
	display: block;
	transform: rotate(0) translate(-50%, -50%);
	animation: transformAnimate .3s;
}

@keyframes transformAnimate {
	from {
		opacity: 0;
	}

	50% {
		opacity: .6;
	}

	to {
		opacity: 1;
	}
}

.@{checkbox-prefix-cls} {
	display: inline-flex;

	&:not(.@{checkbox-prefix-cls}-disabled):hover {
		cursor: pointer;

		.@{checkbox-prefix-cls}-wrapper .@{checkbox-prefix-cls}-inner {
			border-color: @normal-color;
		}
	}

	&-group {
		display: inline-flex;

		&.vertical {
			flex-direction: column;
		}

		&.horizontal {
			flex-direction: row;

			> *:not(:last-child) {
				margin-right: 16px;
			}
		}
	}

	&-wrapper {
		position: relative;
		width: @checkbox-size;
		height: @checkbox-size;
		margin-right: 8px;
		align-self: center;
	}

	&-input {
		opacity: 0;
		margin: 0;
		vertical-align: top;
	}

	&-inner {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: @checkbox-bg-color;
		border-radius: 2px;
		border: 1px solid @normal-border-color;
	}

	&-text {
		color: @normal-text-color;
	}

	&.@{checkbox-prefix-cls}-checked {
		.@{checkbox-prefix-cls}-inner {
			border: 1px solid @checked-color;

			&::after:extend(.cloud-checkbox-checked-inner-after) {
				border-color: @checked-color;
			}
		}

		&.@{checkbox-prefix-cls}-disabled .@{checkbox-prefix-cls}-inner::after:extend(.cloud-checkbox-checked-inner-after) {
			border-color: @normal-border-color;
		}

		&:not(.@{checkbox-prefix-cls}-disabled):hover .@{checkbox-prefix-cls}-wrapper .@{checkbox-prefix-cls}-inner::after {
			border-color: @normal-color;
		}
	}

	&.@{checkbox-prefix-cls}-indeterminate {
		.@{checkbox-prefix-cls}-inner {
			border-color: @checked-color;

			&::after:extend(.cloud-checkbox-indeterminate-inner-after) {
				background: @checked-color;
			}
		}

		&.@{checkbox-prefix-cls}-disabled .@{checkbox-prefix-cls}-inner {
			border-color: @normal-border-color;
			&::after:extend(.cloud-checkbox-indeterminate-inner-after) {
				background: @normal-border-color;
			}
		}

		&:not(.@{checkbox-prefix-cls}-disabled):hover .@{checkbox-prefix-cls}-wrapper .@{checkbox-prefix-cls}-inner::after {
			background: @normal-color;
		}
	}

	&.@{checkbox-prefix-cls}-disabled {
		&:hover {
			cursor: not-allowed;
		}

		.@{checkbox-prefix-cls}-inner{
			border-color: @normal-border-color;
			background: @disabled-bg-color;
		}
	}
}
